---
import HomePageTable from "./HomePageTable.astro";
import TotalsSummary from "./TotalsSummary.astro";
import type { ProductWithCurrency } from "../lib/store";
import type { ProductTotals, SortOrder, Product } from "../types";

export interface Props {
  data: ProductWithCurrency[];
  total: number;
  totals: ProductTotals;
  page: number;
  pageSize: number;
  sort: keyof Product | 'subtotal';
  sortDir: SortOrder;
  searchTerm: string;
}

const { data, total, totals, page, pageSize, sort, sortDir, searchTerm } = Astro.props;
---

<!-- OOB swap for totals -->
<TotalsSummary totals={totals} isOob={true} />

<HomePageTable 
  data={data}
  total={total}
  page={page}
  pageSize={pageSize}
  sort={sort}
  sortDir={sortDir}
  searchTerm={searchTerm}
/>